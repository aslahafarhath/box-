<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Calorie Calculator</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f2f2f2;
}
.container{
    display:flex;
    min-height:100vh;
}
.left{
    width:50%;
    background:#70462b;
    color:white;
    padding:40px;
}
.right{
    width:50%;
    background:white;
    padding:40px;
}
.group button{
    padding:12px 20px;
    margin:5px 10px 5px 0;
    border:none;
    cursor:pointer;
}
.input-group{
    margin-bottom:15px;
}
input{
    padding:10px;
    width:160px;
    border-radius:5px;
    border:none;
}
.calculate{
    width:100%;
    padding:15px;
    background:black;
    color:white;
    border:none;
    cursor:pointer;
    margin-top:20px;
}
.clear{
    width:100%;
    padding:12px;
    margin-top:10px;
    background:#444;
    color:white;
    border:none;
    cursor:pointer;
}
.result{
    font-size:42px;
    font-weight:bold;
    margin:15px 0;
}
.active{
    background:black;
    color:white;
}
</style>
</head>

<body>

<div class="container">

<div class="left">
<h2>Body Parameters</h2>

<div class="group">
<p>Gender</p>
<button class="gender-btn">MALE</button>
<button class="gender-btn">FEMALE</button>
</div>

<div class="input-group">
<label>Age</label><br>
<input type="number" id="age">
</div>

<div class="input-group">
<label>Weight (kg)</label><br>
<input type="number" id="weight">
</div>

<div class="input-group">
<label>Height (cm)</label><br>
<input type="number" id="height">
</div>

<h3>Activity Level</h3>
<input type="range" min="1" max="4" value="1" id="activity">
<p>Low | Middle | High | Very High</p>

<h3>Goal</h3>
<div class="group">
<button class="goal-btn">LOSE</button>
<button class="goal-btn">LOSE 10%</button>
<button class="goal-btn">MAINTAIN</button>
<button class="goal-btn">GAIN</button>
</div>

<button class="calculate" onclick="calculate()">CALCULATE</button>
<button class="clear" onclick="resetForm()">CLEAR</button>
</div>

<!-- RIGHT -->
<div class="right">
<h2>Your Result</h2>
<div class="result" id="result">0 kcal</div>
<p>Calories per day</p>

<div class="group">
<button class="meal-btn">PER DAY</button>
<button class="meal-btn">3 MEALS</button>
<button class="meal-btn">4 MEALS</button>
<button class="meal-btn">5 MEALS</button>
</div>

<h3>Macronutrients</h3>
<p>Carbs: <span id="carbs">0 g</span></p>
<p>Protein: <span id="protein">0 g</span></p>
<p>Fat: <span id="fat">0 g</span></p>
</div>

</div>

<script>
let selectedGender = null;

// Only ONE active per group
function singleActive(className){
    const buttons = document.querySelectorAll(className);
    buttons.forEach(btn=>{
        btn.addEventListener("click",()=>{
            buttons.forEach(b=>b.classList.remove("active"));
            btn.classList.add("active");
            if(className===".gender-btn"){
                selectedGender = btn.innerText.toLowerCase();
            }
        });
    });
}

singleActive(".gender-btn");
singleActive(".goal-btn");
singleActive(".meal-btn");

function calculate(){
    if(!selectedGender){
        alert("Please select gender");
        return;
    }

    let age = +ageInput();
    let weight = +weightInput();
    let height = +heightInput();
    let activity = document.getElementById("activity").value;

    if(!age || !weight || !height){
        alert("Fill all fields");
        return;
    }

    let bmr = selectedGender==="male"
        ? 10*weight + 6.25*height - 5*age + 5
        : 10*weight + 6.25*height - 5*age - 161;

    let factors=[1.2,1.55,1.725,1.9];
    let calories=Math.round(bmr*factors[activity-1]);

    result.innerText = calories+" kcal";
    carbs.innerText = Math.round(calories*0.45/4)+" g";
    protein.innerText = Math.round(calories*0.30/4)+" g";
    fat.innerText = Math.round(calories*0.25/9)+" g";
}

function resetForm(){
    document.querySelectorAll(".active").forEach(b=>b.classList.remove("active"));
    document.querySelectorAll("input").forEach(i=>i.value="");
    result.innerText="0 kcal";
    carbs.innerText="0 g";
    protein.innerText="0 g";
    fat.innerText="0 g";
    selectedGender=null;
}

function ageInput(){return age.value}
function weightInput(){return weight.value}
function heightInput(){return height.value}
</script>

</body>
</html>
